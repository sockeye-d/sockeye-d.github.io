<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>coho</title>
    <meta property="og:title" content="coho">
    <meta property="og:description" content="Static site generator written in Kotlin">
    <meta property="og:type" content="website">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
</head>

<link rel="stylesheet" href="/style.css">
<page-header></page-header>
<content>
    <body><h1>coho</h1><p>Coho is a static site generator written in Kotlin. It supports</p><ul><li>live reload</li><li>simple Kotlin-based configuration</li></ul><p><a href="/projects/godl.html">link</a></p><pre class="codeblock"><code class="language-kotlin"><span class="code-keyword code-kotlin-keyword">package</span><span class="code-text code-kotlin-text"> dev</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">fishies</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">coho</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">core</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown

</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> dev</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">fishies</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">coho</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">core</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-operator code-kotlin-operator">*</span><span class="code-text code-kotlin-text">
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> io</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">noties</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">AbsVisitor
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> io</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">noties</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">Prism4j
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> io</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">noties</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">Prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">grammar
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">apache</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">commons</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">text</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">StringEscapeUtils
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-operator code-kotlin-operator">*</span><span class="code-text code-kotlin-text">
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">ast</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">ASTNode
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">ast</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">getTextInNode
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">flavours</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">MarkdownFlavourDescriptor
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">flavours</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">commonmark</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">CommonMarkFlavourDescriptor
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">html</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-operator code-kotlin-operator">*</span><span class="code-text code-kotlin-text">
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">parser</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">LinkMap
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> org</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">intellij</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">markdown</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">parser</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">MarkdownParser
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> java</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">nio</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">file</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">Path
</span><span class="code-keyword code-kotlin-keyword">import</span><span class="code-text code-kotlin-text"> kotlin</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">io</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">path</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-operator code-kotlin-operator">*</span><span class="code-text code-kotlin-text">

</span><span class="code-keyword code-kotlin-keyword">private</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">class</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">SyntaxHighlightedCommonMarkFlavourDescriptor</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
    useSafeLinks</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Boolean </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-boolean code-kotlin-boolean">true</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> absolutizeAnchorLinks</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Boolean </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-boolean code-kotlin-boolean">false</span><span class="code-text code-kotlin-text">
</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">CommonMarkFlavourDescriptor</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">useSafeLinks</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> absolutizeAnchorLinks</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
    </span><span class="code-keyword code-kotlin-keyword">override</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">createHtmlGeneratingProviders</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">linkMap</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> LinkMap</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> baseURI</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> URI</span><span class="code-operator code-kotlin-operator">?</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Map</span><span class="code-operator code-kotlin-operator">&lt;</span><span class="code-text code-kotlin-text">IElementType</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> GeneratingProvider</span><span class="code-operator code-kotlin-operator">&gt;</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
        </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> base </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">super</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">createHtmlGeneratingProviders</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">linkMap</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> baseURI</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
        </span><span class="code-keyword code-kotlin-keyword">return</span><span class="code-text code-kotlin-text"> base </span><span class="code-operator code-kotlin-operator">+</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">mapOf</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
            MarkdownElementTypes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">CODE_FENCE </span><span class="code-keyword code-kotlin-keyword">to</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">object</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> GeneratingProvider </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                </span><span class="code-keyword code-kotlin-keyword">override</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">processNode</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
                    visitor</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> HtmlGenerator</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">HtmlGeneratingVisitor</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> text</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> String</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> node</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> ASTNode
                </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> prism4j </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">Prism4j</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-function code-kotlin-function">PrismBundleGrammarLocator</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> indentBefore </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> node</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">getTextInNode</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">text</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">commonPrefixWith</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-string code-kotlin-string">&quot; &quot;</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">repeat</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-number code-kotlin-number">10</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">length

                    visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-string code-kotlin-string">&quot;&lt;pre class=\&quot;codeblock\&quot;&gt;&quot;</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">

                    </span><span class="code-keyword code-kotlin-keyword">var</span><span class="code-text code-kotlin-text"> state </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">0</span><span class="code-text code-kotlin-text">

                    </span><span class="code-keyword code-kotlin-keyword">var</span><span class="code-text code-kotlin-text"> childrenToConsider </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> node</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">children
                    </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">childrenToConsider</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">last</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">type </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> MarkdownTokenTypes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">CODE_FENCE_END</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                        childrenToConsider </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> childrenToConsider</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">subList</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-number code-kotlin-number">0</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> childrenToConsider</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">size </span><span class="code-operator code-kotlin-operator">-</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">1</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">

                    </span><span class="code-keyword code-kotlin-keyword">var</span><span class="code-text code-kotlin-text"> lastChildWasContent </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-boolean code-kotlin-boolean">false</span><span class="code-text code-kotlin-text">

                    </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> attributes </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> ArrayList</span><span class="code-operator code-kotlin-operator">&lt;</span><span class="code-text code-kotlin-text">String</span><span class="code-operator code-kotlin-operator">&gt;</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> content </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">StringBuilder</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">var</span><span class="code-text code-kotlin-text"> language</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> String</span><span class="code-operator code-kotlin-operator">?</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">null</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">for</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">child </span><span class="code-keyword code-kotlin-keyword">in</span><span class="code-text code-kotlin-text"> childrenToConsider</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                        </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">state </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">1</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">&amp;&amp;</span><span class="code-text code-kotlin-text"> child</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">type </span><span class="code-keyword code-kotlin-keyword">in</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">listOf</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
                                MarkdownTokenTypes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">CODE_FENCE_CONTENT</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> MarkdownTokenTypes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">EOL
                            </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                        </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                            content</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">append</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
                                HtmlGenerator</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">trimIndents</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
                                    HtmlGenerator</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">leafText</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">text</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> child</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> </span><span class="code-boolean code-kotlin-boolean">false</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> indentBefore
                                </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">toString</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">unescapeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                            </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                            lastChildWasContent </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> child</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">type </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> MarkdownTokenTypes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">CODE_FENCE_CONTENT
                        </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                        </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">state </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">0</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">&amp;&amp;</span><span class="code-text code-kotlin-text"> child</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">type </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> MarkdownTokenTypes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">FENCE_LANG</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                            language </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> HtmlGenerator</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">leafText</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">text</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> child</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">toString</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">trim</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">split</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-string code-kotlin-string">' '</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">[</span><span class="code-number code-kotlin-number">0</span><span class="code-punctuation code-kotlin-punctuation">]</span><span class="code-text code-kotlin-text">
                            attributes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">add</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
                                </span><span class="code-text code-kotlin-text">&quot;class=\&quot;language-</span><span class="code-interpolation code-kotlin-interpolation">$language</span><span class="code-text code-kotlin-text">\&quot;&quot;</span><span class="code-text code-kotlin-text">
                            </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                        </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                        </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">state </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">0</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">&amp;&amp;</span><span class="code-text code-kotlin-text"> child</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">type </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> MarkdownTokenTypes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">EOL</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                            visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeTagOpen</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">node</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> </span><span class="code-string code-kotlin-string">&quot;code&quot;</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">*</span><span class="code-text code-kotlin-text">attributes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">toTypedArray</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                            state </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">1</span><span class="code-text code-kotlin-text">
                        </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> grammar </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> language</span><span class="code-operator code-kotlin-operator">?</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">run</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text"> prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">grammar</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-keyword code-kotlin-keyword">this</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">grammar </span><span class="code-operator code-kotlin-operator">!=</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">null</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">

                        </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> tokens </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">tokenize</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">content</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">toString</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> grammar</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                        </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> tokenVisitor</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> AbsVisitor </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">object</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">AbsVisitor</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                            </span><span class="code-keyword code-kotlin-keyword">override</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">visitText</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">text</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">Text</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text"> </span><span class="code-comment code-kotlin-comment">// raw text</span><span class="code-text code-kotlin-text">
                                visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">&quot;&lt;span class=\&quot;code-text code-</span><span class="code-interpolation code-kotlin-interpolation">$language</span><span class="code-text code-kotlin-text">-text\&quot;&gt;</span><span class="code-delimiter code-kotlin-delimiter">${</span><span class="code-text code-kotlin-text">text</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">literal</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">escapeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-delimiter code-kotlin-delimiter">}</span><span class="code-text code-kotlin-text">&lt;/span&gt;&quot;</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                            </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">

                            </span><span class="code-keyword code-kotlin-keyword">override</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">visitSyntax</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">syntax</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">Syntax</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text"> </span><span class="code-comment code-kotlin-comment">// type of the syntax token</span><span class="code-text code-kotlin-text">
                                </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> firstChild </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> syntax</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">children</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">first</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                                </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">syntax</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">children</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">size </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">1</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">&amp;&amp;</span><span class="code-text code-kotlin-text"> firstChild </span><span class="code-keyword code-kotlin-keyword">is</span><span class="code-text code-kotlin-text"> Prism4j</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">Text</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                                    </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">inner</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> firstChild</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">literal</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">escapeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                                    visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">&quot;&lt;span class=\&quot;code-</span><span class="code-delimiter code-kotlin-delimiter">${</span><span class="code-text code-kotlin-text">syntax</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">type</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-delimiter code-kotlin-delimiter">}</span><span class="code-text code-kotlin-text"> code-</span><span class="code-interpolation code-kotlin-interpolation">$language</span><span class="code-text code-kotlin-text">-</span><span class="code-delimiter code-kotlin-delimiter">${</span><span class="code-text code-kotlin-text">syntax</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">type</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-delimiter code-kotlin-delimiter">}</span><span class="code-text code-kotlin-text">\&quot;&gt;</span><span class="code-interpolation code-kotlin-interpolation">$inner</span><span class="code-text code-kotlin-text">&lt;/span&gt;&quot;</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                                </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">else</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                                    </span><span class="code-function code-kotlin-function">visit</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">syntax</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">children</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                                </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                            </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                        </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                        tokenVisitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">visit</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">tokens</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">else</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                        visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">content</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">toString</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">escapeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">

                    </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">state </span><span class="code-operator code-kotlin-operator">==</span><span class="code-text code-kotlin-text"> </span><span class="code-number code-kotlin-number">0</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                        visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeTagOpen</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">node</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> </span><span class="code-string code-kotlin-string">&quot;code&quot;</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">*</span><span class="code-text code-kotlin-text">attributes</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">toTypedArray</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                    </span><span class="code-keyword code-kotlin-keyword">if</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">lastChildWasContent</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
                        visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-string code-kotlin-string">&quot;\n&quot;</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
                    visitor</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">consumeHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-string code-kotlin-string">&quot;&lt;/code&gt;&lt;/pre&gt;&quot;</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
            </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
</span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">

</span><span class="code-keyword code-kotlin-keyword">open</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">class</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">MarkdownFile</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> path</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Path</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> tagRenderer</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> HtmlGenerator</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">TagRenderer</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">Element</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">path</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">name</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
    </span><span class="code-keyword code-kotlin-keyword">protected</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">open</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">preprocessMarkdown</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">src</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> String</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> src
    </span><span class="code-keyword code-kotlin-keyword">protected</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">open</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">createHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">src</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> String</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> tree</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> ASTNode</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> flavour</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> MarkdownFlavourDescriptor</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text">
        </span><span class="code-function code-kotlin-function">HtmlGenerator</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">src</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> tree</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> flavour</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">generateHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">tagRenderer</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">

    </span><span class="code-keyword code-kotlin-keyword">override</span><span class="code-text code-kotlin-text"> </span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">_generate</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">location</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Path</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> List</span><span class="code-operator code-kotlin-operator">&lt;</span><span class="code-text code-kotlin-text">Path</span><span class="code-operator code-kotlin-operator">&gt;</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text">
        </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> src </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">preprocessMarkdown</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">path</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">readText</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
        </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> flavour </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">SyntaxHighlightedCommonMarkFlavourDescriptor</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
        </span><span class="code-keyword code-kotlin-keyword">val</span><span class="code-text code-kotlin-text"> parsedTree </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">MarkdownParser</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">flavour</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">buildMarkdownTreeFromString</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">src</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
        </span><span class="code-keyword code-kotlin-keyword">return</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">listOf</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
            location</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">resolve</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">path</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-text code-kotlin-text">nameWithoutExtension </span><span class="code-operator code-kotlin-operator">+</span><span class="code-text code-kotlin-text"> </span><span class="code-string code-kotlin-string">&quot;.html&quot;</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
                </span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">apply</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">{</span><span class="code-text code-kotlin-text"> </span><span class="code-function code-kotlin-function">writeText</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-function code-kotlin-function">createHtml</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">src</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> parsedTree</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> flavour</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
    </span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">
</span><span class="code-punctuation code-kotlin-punctuation">}</span><span class="code-text code-kotlin-text">

</span><span class="code-comment code-kotlin-comment">/**
 * Convert a Markdown file to an HTML body directly with no templating or other post-processing.
 * You likely don't want this one, use [md] for more flexibility.
 */</span><span class="code-text code-kotlin-text">
</span><span class="code-keyword code-kotlin-keyword">fun</span><span class="code-text code-kotlin-text"> OutputPath</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">mdBasic</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">source</span><span class="code-operator code-kotlin-operator">:</span><span class="code-text code-kotlin-text"> Path</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text"> </span><span class="code-operator code-kotlin-operator">=</span><span class="code-text code-kotlin-text"> children</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">add</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
    </span><span class="code-function code-kotlin-function">MarkdownFile</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
        source</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> HtmlGenerator</span><span class="code-punctuation code-kotlin-punctuation">.</span><span class="code-function code-kotlin-function">DefaultTagRenderer</span><span class="code-punctuation code-kotlin-punctuation">(</span><span class="code-text code-kotlin-text">
            DUMMY_ATTRIBUTES_CUSTOMIZER</span><span class="code-punctuation code-kotlin-punctuation">,</span><span class="code-text code-kotlin-text"> </span><span class="code-boolean code-kotlin-boolean">false</span><span class="code-text code-kotlin-text">
        </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
    </span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
</span><span class="code-punctuation code-kotlin-punctuation">)</span><span class="code-text code-kotlin-text">
</span></code></pre></body>
</content>
<page-footer></page-footer>
<script src="/components/header.js" type="text/javascript" defer></script>
<script src="/components/footer.js" type="text/javascript" defer></script>
<script src="/main.js"></script>

</html>
